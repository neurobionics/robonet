[Unit]
Description=Network connectivity monitor with email notifications
After=wpa_cli@wlan0.service
BindsTo=wpa_cli@wlan0.service

[Service]
Type=simple
ExecStart=${EXECUTABLE_PATH} monitor \
    --notification-email=${NOTIFICATION_EMAIL} \
    --smtp-server=${SMTP_SERVER} \
    --smtp-user=${SMTP_USER} \
    --smtp-password=${SMTP_PASSWORD}
Environment=RUST_LOG=info
Restart=on-failure
RestartSec=1

[Install]
WantedBy=multi-user.target